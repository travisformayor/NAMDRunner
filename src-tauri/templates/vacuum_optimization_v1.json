{
  "id": "vacuum_optimization_v1",
  "name": "Vacuum Optimization",
  "description": "Structure optimization in vacuum with large periodic box, PME disabled, and elastic network model (ENM) restraints. Ideal for initial DNA origami structure prediction.",
  "namd_config_template": "#############################################################\n## NAMD CONFIGURATION - VACUUM OPTIMIZATION              ##\n#############################################################\n# Generated by NAMDRunner\n# Template: Vacuum Optimization v1\n\n#############################################################\n## INPUT FILES                                            ##\n#############################################################\nstructure          {{structure_file}}\ncoordinates        {{coordinates_file}}\n\n#############################################################\n## OUTPUT FILES                                           ##\n#############################################################\noutputName         outputs/{{output_name}}\nXSTfile            outputs/{{output_name}}.xst\nDCDfile            outputs/{{output_name}}.dcd\n\n#############################################################\n## SIMULATION PARAMETERS                                   ##\n#############################################################\n\n# Force Field Parameters\nparaTypeCharmm     on\nparameters         {{parameters_file}}\nparameters         {{parameters_file_2}}\n\nwrapAll            off\n\n# Non-bonded Force Calculations\nexclude            scaled1-4\n1-4scaling         1.0\nswitching          on\nswitchdist         8\ncutoff             10\npairlistdist       12\nmargin             {{margin}}\n\n# Integrator Parameters\ntimestep           {{timestep}}  ;# fs/step\nrigidBonds         all           ;# needed for 2fs+ steps\nnonbondedFreq      1\nfullElectFrequency 3\nstepspercycle      12\n\n# PME (disabled for vacuum)\nPME                no\n\n# Temperature Control (Langevin dynamics)\nlangevin           on\nlangevinDamping    {{langevin_damping}}  ;# low damping for fast relaxation\nlangevinTemp       {{temperature}}\nlangevinHydrogen   off  ;# don't couple to hydrogens\n\n# Output Frequencies\nuseGroupPressure   yes\nxstFreq            {{xst_freq}}\noutputEnergies     {{output_energies_freq}}\ndcdfreq            {{dcd_freq}}\nrestartfreq        {{restart_freq}}\n\n#############################################################\n## PERIODIC BOUNDARY CONDITIONS                            ##\n#############################################################\n# Large box for vacuum simulation\ncellBasisVector1   {{cell_x}} 0 0\ncellBasisVector2   0 {{cell_y}} 0\ncellBasisVector3   0 0 {{cell_z}}\n\n#############################################################\n## EXTRA FORCES (ENM Restraints)                          ##\n#############################################################\nextraBonds         on\nextraBondsFile     {{extrabonds_file}}\n\n#############################################################\n## EXECUTION                                               ##\n#############################################################\ntemperature        {{temperature}}\n{{execution_command}}          {{steps}}\n",
  "variables": {
    "structure_file": {
      "key": "structure_file",
      "label": "Structure File (PSF)",
      "var_type": {
        "FileUpload": {
          "extensions": [
            ".psf"
          ]
        }
      },
      "help_text": "NAMD structure file defining molecular topology"
    },
    "coordinates_file": {
      "key": "coordinates_file",
      "label": "Coordinates File (PDB)",
      "var_type": {
        "FileUpload": {
          "extensions": [
            ".pdb"
          ]
        }
      },
      "help_text": "Initial atomic coordinates"
    },
    "parameters_file": {
      "key": "parameters_file",
      "label": "Force Field Parameters (PRM)",
      "var_type": {
        "FileUpload": {
          "extensions": [
            ".prm",
            ".par"
          ]
        }
      },
      "help_text": "CHARMM force field parameter file"
    },
    "extrabonds_file": {
      "key": "extrabonds_file",
      "label": "Extra Bonds File (EXB)",
      "var_type": {
        "FileUpload": {
          "extensions": [
            ".exb"
          ]
        }
      },
      "help_text": "Elastic network model (ENM) restraints file"
    },
    "output_name": {
      "key": "output_name",
      "label": "Output File Prefix",
      "var_type": {
        "Text": {
          "default": "vacuum_opt"
        }
      },
      "help_text": "Prefix for output files (e.g., 'vacuum_opt' creates vacuum_opt.dcd, vacuum_opt.xst)"
    },
    "temperature": {
      "key": "temperature",
      "label": "Temperature (K)",
      "var_type": {
        "Number": {
          "min": 200.0,
          "max": 400.0,
          "default": 300.0
        }
      },
      "help_text": "Simulation temperature in Kelvin"
    },
    "timestep": {
      "key": "timestep",
      "label": "Timestep (fs)",
      "var_type": {
        "Number": {
          "min": 1.0,
          "max": 4.0,
          "default": 2.0
        }
      },
      "help_text": "Integration timestep in femtoseconds (2fs typical with rigidBonds)"
    },
    "langevin_damping": {
      "key": "langevin_damping",
      "label": "Langevin Damping Coefficient",
      "var_type": {
        "Number": {
          "min": 0.01,
          "max": 10.0,
          "default": 0.1
        }
      },
      "help_text": "Damping coefficient (gamma). Lower values (0.1) for fast relaxation, higher (1-5) for equilibration"
    },
    "margin": {
      "key": "margin",
      "label": "Pairlist Margin (\u00c5)",
      "var_type": {
        "Number": {
          "min": 10.0,
          "max": 50.0,
          "default": 30.0
        }
      },
      "help_text": "Extra margin for pairlist generation. Larger values needed for vacuum simulations"
    },
    "cell_x": {
      "key": "cell_x",
      "label": "Cell X Dimension (\u00c5)",
      "var_type": {
        "Number": {
          "min": 100.0,
          "max": 2000.0,
          "default": 1000.0
        }
      },
      "help_text": "Periodic box X dimension. Use large box (1000\u00c5+) for vacuum simulations"
    },
    "cell_y": {
      "key": "cell_y",
      "label": "Cell Y Dimension (\u00c5)",
      "var_type": {
        "Number": {
          "min": 100.0,
          "max": 2000.0,
          "default": 1000.0
        }
      },
      "help_text": "Periodic box Y dimension. Use large box (1000\u00c5+) for vacuum simulations"
    },
    "cell_z": {
      "key": "cell_z",
      "label": "Cell Z Dimension (\u00c5)",
      "var_type": {
        "Number": {
          "min": 100.0,
          "max": 2000.0,
          "default": 1000.0
        }
      },
      "help_text": "Periodic box Z dimension. Use large box (1000\u00c5+) for vacuum simulations"
    },
    "xst_freq": {
      "key": "xst_freq",
      "label": "XST Output Frequency",
      "var_type": {
        "Number": {
          "min": 100.0,
          "max": 100000.0,
          "default": 4800.0
        }
      },
      "help_text": "How often to write extended system trajectory (timesteps)"
    },
    "output_energies_freq": {
      "key": "output_energies_freq",
      "label": "Energy Output Frequency",
      "var_type": {
        "Number": {
          "min": 100.0,
          "max": 100000.0,
          "default": 4800.0
        }
      },
      "help_text": "How often to write energy data (timesteps)"
    },
    "dcd_freq": {
      "key": "dcd_freq",
      "label": "DCD Output Frequency",
      "var_type": {
        "Number": {
          "min": 100.0,
          "max": 100000.0,
          "default": 4800.0
        }
      },
      "help_text": "How often to write trajectory frames (timesteps)"
    },
    "restart_freq": {
      "key": "restart_freq",
      "label": "Restart File Frequency",
      "var_type": {
        "Number": {
          "min": 1000.0,
          "max": 1000000.0,
          "default": 48000.0
        }
      },
      "help_text": "How often to write restart files (timesteps)"
    },
    "execution_command": {
      "key": "execution_command",
      "label": "Execution Mode",
      "var_type": {
        "Text": {
          "default": "minimize"
        }
      },
      "help_text": "NAMD execution command: 'minimize' for energy minimization, 'run' for dynamics"
    },
    "steps": {
      "key": "steps",
      "label": "Number of Steps",
      "var_type": {
        "Number": {
          "min": 100.0,
          "max": 100000000.0,
          "default": 4800.0
        }
      },
      "help_text": "Number of minimization/simulation steps to perform"
    },
    "parameters_file_2": {
      "key": "parameters_file_2",
      "label": "Force Field Parameters (Water/Ions)",
      "var_type": {
        "FileUpload": {
          "extensions": [
            ".prm",
            ".par"
          ]
        }
      },
      "help_text": "Water and ion parameter file"
    }
  },
  "created_at": "2025-11-02T00:00:00Z",
  "updated_at": "2025-11-02T00:00:00Z"
}